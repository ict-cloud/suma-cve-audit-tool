use warp::reply::json;
use crate::persistence::{keyval, rdbms};


pub async fn listhandler(db: sled::Db) -> Result<impl::warp::Reply, warp::Rejection> {
    Ok(warp::reply::json(&keyval::get_all(Some(db))))
}

pub async fn erratalisthandler() -> Result<impl::warp::Reply, warp::Rejection> {
    Ok(warp::reply::json(&rdbms::get_errataext()))
}